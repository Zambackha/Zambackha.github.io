<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MicrowaveGames - Brick Breaker</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: 'Press Start 2P', cursive;
        background: #000;
        position: relative;
    }
    #gameCanvas {
        display: block;
        margin: 0 auto;
        background: url('https://png.pngtree.com/thumb_back/fh260/background/20240716/pngtree-abstract-luxury-soft-red-background-christmas-image_16003041.jpg') repeat; /* Background placeholder */
        background-size: cover;
    }
    .game-over-text {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: red;
        font-size: 48px;
        text-shadow: 2px 2px #000;
        text-align: center;
        white-space: nowrap;
    }
    #restartBtn {
        position: absolute;
        top: 55%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 15px 30px;
        font-size: 18px;
        cursor: pointer;
        display: none;
        border: none;
        border-radius: 10px;
        background-color: #ff4c4c;
        color: #fff;
        font-family: 'Press Start 2P', cursive;
    }
    #restartBtn:hover { background-color: #ff1a1a; }
</style>
</head>
<body>

<canvas id="gameCanvas" width="600" height="500"></canvas>
<div id="gameOver" class="game-over-text" style="display:none;"></div>
<button id="restartBtn">RESTART</button>

<script>
// -------- Images --------
const paddleImg = new Image();
paddleImg.src = 'https://img.freepik.com/free-vector/3d-style-black-background-with-paper-layer_206725-669.jpg?semt=ais_user_personalization&w=740&q=80'; // Replace with your paddle image

const ballImg = new Image();
ballImg.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Color_icon_yellow.svg/250px-Color_icon_yellow.svg.png'; // Replace with your ball image

const brickImg = new Image();
brickImg.src = 'https://thumbs.dreamstime.com/b/extreme-macro-brick-15537806.jpg'; // Replace with your brick image

// -------- Canvas --------
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// -------- Game Variables --------
let paddle, ball, bricks, score, gameOver, loopId;

function initGame() {
    paddle = { x: canvas.width/2 - 50, y: 460, w: 100, h: 20 };
    ball = { x: canvas.width/2 - 10, y: 440, w: 20, h: 20, vx: 4, vy: -4 };
    bricks = [];
    score = 0;
    gameOver = false;
    document.getElementById('gameOver').style.display = 'none';
    document.getElementById('restartBtn').style.display = 'none';
    
    // Create bricks
    const rows = 5, cols = 8;
    const brickW = 70, brickH = 30, padding = 10, offsetTop = 50, offsetLeft = 35;
    for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
            bricks.push({
                x: c*(brickW + padding) + offsetLeft,
                y: r*(brickH + padding) + offsetTop,
                w: brickW,
                h: brickH,
                hit: false
            });
        }
    }
    loop();
}

// -------- Paddle Control --------
canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    paddle.x = e.clientX - rect.left - paddle.w/2;
    if (paddle.x < 0) paddle.x = 0;
    if (paddle.x + paddle.w > canvas.width) paddle.x = canvas.width - paddle.w;
});

// -------- Update Game --------
function update() {
    if (gameOver) return;
    
    // Move ball
    ball.x += ball.vx;
    ball.y += ball.vy;
    
    // Wall collisions
    if (ball.x <= 0 || ball.x + ball.w >= canvas.width) ball.vx *= -1;
    if (ball.y <= 0) ball.vy *= -1;
    
    // Paddle collision
    if (ball.x + ball.w > paddle.x && ball.x < paddle.x + paddle.w &&
        ball.y + ball.h > paddle.y && ball.y < paddle.y + paddle.h) {
        ball.vy *= -1;
        ball.y = paddle.y - ball.h;
    }
    
    // Brick collision
    bricks.forEach((brick) => {
        if (!brick.hit &&
            ball.x + ball.w > brick.x &&
            ball.x < brick.x + brick.w &&
            ball.y + ball.h > brick.y &&
            ball.y < brick.y + brick.h) {
            ball.vy *= -1;
            brick.hit = true;
            score++;
        }
    });
    
    // Check game over
    if (ball.y > canvas.height) endGame();
    
    // Check win
    if (score === bricks.length) {
        endGame("YOU WIN!");
    }
}

// -------- Draw Game --------
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // Paddle
    ctx.drawImage(paddleImg, paddle.x, paddle.y, paddle.w, paddle.h);
    
    // Ball
    ctx.drawImage(ballImg, ball.x, ball.y, ball.w, ball.h);
    
    // Bricks
    bricks.forEach(brick => {
        if (!brick.hit) ctx.drawImage(brickImg, brick.x, brick.y, brick.w, brick.h);
    });
    
    // Score
    ctx.fillStyle = '#fff';
    ctx.font = '18px monospace';
    ctx.fillText('SCORE: ' + score, 10, 20);
}

// -------- Game Loop --------
function loop() {
    update();
    draw();
    if (!gameOver) loopId = requestAnimationFrame(loop);
}

// -------- End Game ---------
const failMessages = [
    "YOU SUCK!",
    "GAME OVER LOSER!",
    "TRY AGAIN NERD!",
    "BETTER LUCK NEXT TIME!",
    "IS THAT YOUR BEST?"
];
function endGame(customMsg) {
    gameOver = true;
    document.getElementById('gameOver').innerText = customMsg || failMessages[Math.floor(Math.random()*failMessages.length)];
    document.getElementById('gameOver').style.display = 'block';
    document.getElementById('restartBtn').style.display = 'block';
}

// -------- Restart Button --------
document.getElementById('restartBtn').addEventListener('click', () => {
    cancelAnimationFrame(loopId);
    initGame();
});

// -------- Start Game -------
initGame();
</script>

</body>
</html>
